.body.root
  .music-videos-wrapper
    - prev_city = nil
    - x = 0
    - @artists.each do |artist|
      - if x == 0
        - prev_city = 'nil'
      - current_city = artist.city
      - if current_city != prev_city && artist != @artists.first
        .city_divider
      .music-video-tile
        .music-video-head
          .row
            .side_column_body.col-xs-1
              - if current_city != prev_city
                = link_to artist_path(artist) do
                  .city_title{:id => "#{artist.id}_city"}
                    - artist.city.upcase.split('').each do |character|
                      - if current_city == "Chicago" || current_city == "Atlanta" || current_city == "New York"
                        %p.gold
                          = character
                      -else
                        %p.silver
                          = character
              - prev_city = current_city
              - x += 1
            .center_column_body.col-xs-11
              .artist_title
                -if artist.vibe == "thug"
                  = link_to artist.name, artist_path(artist), class: "maroon"
                -elsif artist.vibe == "wavy"
                  = link_to artist.name, artist_path(artist), class: "cyan"
                -elsif artist.vibe == "soul"
                  = link_to artist.name, artist_path(artist), class: "purple"
                -elsif artist.vibe == "chill"
                  = link_to artist.name, artist_path(artist), class: "green"
                -else
                  = link_to artist.name, artist_path(artist), class: "silver"
              .owl-carousel.owl-theme.row{:id => "#{artist.id}_carousel"}
                - artist.music_videos.each do |music_video|
                  .carousel_contents
                    .col-xs-11
                      .track_title
                        = music_video.title
                        -if !music_video.featuring.empty?
                          = ' ft. '
                          - if @artists.exists?(name: music_video.featuring)
                            - featuring = @artists.find_by(name: music_video.featuring)
                            = link_to music_video.featuring, artist_path(featuring)
                          - else
                            = music_video.featuring
                      .youtube-player-container
                        .youtube-player{ :data => {:id => music_video.youtube_id } }
                    .side_column_body.col-xs-1
                      - music_video.year.split('').each do |character|
                        .row
                          = character
